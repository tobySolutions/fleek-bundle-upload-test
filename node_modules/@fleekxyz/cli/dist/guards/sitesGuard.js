"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sitesGuard = void 0;
const cli_1 = require("../cli");
const initCongifuration_1 = require("../commands/sites/utils/initCongifuration");
const loadConfiguration_1 = require("../utils/configuration/loadConfiguration");
const translation_1 = require("../utils/translation");
const sdkGuard_1 = require("./sdkGuard");
const sitesGuard = async ({ predefinedConfigPath }) => {
    const isConfigValid = await (0, loadConfiguration_1.loadConfiguration)({ predefinedConfigPath })
        .then(() => true)
        .catch((e) => {
        cli_1.output.error(e.toString());
        return false;
    });
    if (!isConfigValid) {
        cli_1.output.hint((0, translation_1.t)('createValidConfAsInstruct'));
        cli_1.output.printNewLine();
        const sdk = (0, sdkGuard_1.getSdkClient)();
        await (0, initCongifuration_1.initConfiguration)({ sdk: sdk });
    }
};
exports.sitesGuard = sitesGuard;
//# sourceMappingURL=sitesGuard.js.map