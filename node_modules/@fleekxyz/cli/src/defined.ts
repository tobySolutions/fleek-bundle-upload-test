/* eslint no-process-env: 0 */
import { PrepareEsbuildDefineArgs } from '@fleekxyz/env-guards';

// TODO: Transpile the env variables statically at build-time, see https://linear.app/fleekxyz/issue/APP2-526/replace-env-vars-with-static-values-on-build-time
// WARNING: Those values will be visible in public source code pushed to NPM
export const defined = {
  UI__APP_URL: process.env.UI__APP_URL as string,
  SDK__GRAPHQL_API_URL: process.env.SDK__GRAPHQL_API_URL as string,
} satisfies PrepareEsbuildDefineArgs;

// The variables are parsed at build time, in order to ensure
// that the override is intentional we should stick
// with the application prefix to avoid unexpected behaviour for
// polluted environments that might have similar env vars
// e.g. FLEEK__UI_APP_URL
const override_env_var_prefix = '';

export const getDefined = (key: keyof typeof defined) => process.env[`${override_env_var_prefix}${key}`] || defined[key];
