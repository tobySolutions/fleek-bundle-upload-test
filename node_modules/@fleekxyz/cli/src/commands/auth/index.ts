import { Command } from 'commander';

import { getDefined } from '../../defined';
import { t } from '../../utils/translation';
import { createLoginActionHandler } from './login';
import { createLogoutActionHandler } from './logout';

export default (program: Command) => {
  program
    .command('login')
    .description(t('loginToFlkPlt', { status: t('loginTo') }))
    .action(
      createLoginActionHandler({
        uiAppUrl: getDefined('UI__APP_URL'),
        authApiUrl: getDefined('SDK__GRAPHQL_API_URL'),
      })
    );

  program
    .command('logout')
    .description(t('loginToFlkPlt', { status: t('logoutOf') }))
    .action(createLogoutActionHandler());
};
